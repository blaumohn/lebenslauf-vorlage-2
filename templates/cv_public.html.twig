{% extends 'cv_layout.html.twig' %}

{% block content %}
  <div class="cv-root">
    <main class="layout-main">
      <aside class="layout-side">
        <div>
          <h1 class="text-title-xl">{{ cv.kopfdaten.name.verkurzte|default(cv.kopfdaten.name) }}</h1>
          <p class="text-title text-muted">{{ cv.kopfdaten.bereich }}</p>
        </div>

        <section class="section">
          <div class="section-line"></div>
          <h2 class="section-title">{{ etiketten.faehigkeiten._|default('Fähigkeiten') }}</h2>
          <div>
            {% for gruppe in cv.faehigkeiten %}
              <div class="skill-group">
                <p class="text-small text-strong text-muted">{{ gruppe.stufe }}</p>
                <div class="dot-scale">
                  {% for i in 1..5 %}
                    <span class="dot{% if i <= gruppe.wert %} dot--on{% endif %}"></span>
                  {% endfor %}
                </div>
                <div class="tag-list">
                  {% for tag in gruppe.technologien %}
                    <span class="tag">{{ tag }}</span>
                  {% endfor %}
                </div>
              </div>
            {% endfor %}
          </div>
        </section>

        <section class="section">
          <div class="section-line"></div>
          <h2 class="section-title">{{ etiketten.sprachen._|default('Sprachen') }}</h2>
          <ul class="text-body">
            {% for sprache in cv.sprachen %}
              <li>{{ sprache.sprache }} - <span class="text-meta">{{ sprache.stufe }}</span></li>
            {% endfor %}
          </ul>
        </section>

        <section class="section">
          <div class="section-line"></div>
          <h2 class="section-title">{{ etiketten.interessen._|default('Interessen') }}</h2>
          <p class="text-body">{{ cv.interessen|join(', ') }}</p>
        </section>
      </aside>

      <section class="layout-body">
        <div class="layout-contact text-small text-muted text-strong">
          <div>Kontaktformular</div>
          <div><a href="/contact">/contact</a></div>
        </div>

        <section class="section">
          <h2 class="section-title">{{ etiketten.motivation._|default('Motivation') }}</h2>
          <p class="text-body">{{ cv.motivation }}</p>
        </section>

        <section class="section">
          <div class="section-line"></div>
          <h2 class="section-title">{{ etiketten.berufserfahrung._|default('Berufserfahrung') }}</h2>
          {% for eintrag in cv.berufserfahrung %}
            <div class="entry">
              {% if eintrag.stelleGruppe is not defined or eintrag.stelleGruppe.letzteStelle %}
                <div class="text-small text-strong">{{ eintrag.unternehmen }}</div>
              {% endif %}

              <div class="{% if eintrag.stelleGruppe is defined %}entry-group{% endif %}">
                <div class="entry-header">
                  <div class="text-body text-strong">
                    {% if eintrag.projekt is defined %}
                      <span class="text-strong">{{ eintrag.projekt }}</span> |
                    {% endif %}
                    {{ eintrag.titel }}
                  </div>
                  <span class="text-meta">{{ eintrag.zeitraum }}</span>
                </div>

                {% if eintrag.ort is defined %}
                  <div class="entry-ort text-meta">{{ eintrag.ort }}</div>
                {% endif %}

                <div>
                  {% for punkt in eintrag.punkte %}
                    {% if punkt.tags|length > 0 %}
                      <div class="tag-list">
                        {% for tag in punkt.tags %}
                          <span class="tag">{{ tag }}</span>
                        {% endfor %}
                      </div>
                    {% endif %}
                    <ul class="list">
                      <li class="text-body">{{ punkt.text }}</li>
                    </ul>
                  {% endfor %}
                </div>
              </div>
            </div>
          {% endfor %}
        </section>

        {% if cv.opensource is defined %}
          <section class="section">
            <div class="section-line"></div>
            <h2 class="section-title">{{ etiketten.opensource._|default('Opensource') }}</h2>
            {% for eintrag in cv.opensource %}
              <div class="entry">
                <div class="text-small text-strong">{{ eintrag.projekt }}</div>
                <div class="entry-header">
                  <div class="text-body text-strong">{{ eintrag.titel }}</div>
                  <span class="text-meta">{{ eintrag.zeitraum }}</span>
                </div>
                <div>
                  {% for punkt in eintrag.punkte %}
                    {% if punkt.tags|length > 0 %}
                      <div class="tag-list">
                        {% for tag in punkt.tags %}
                          <span class="tag">{{ tag }}</span>
                        {% endfor %}
                      </div>
                    {% endif %}
                    <ul class="list">
                      <li class="text-body">{{ punkt.text }}</li>
                    </ul>
                  {% endfor %}
                </div>
              </div>
            {% endfor %}
          </section>
        {% endif %}

        {% if cv.vortraege is defined %}
          <section class="section">
            <div class="section-line"></div>
            <h2 class="section-title">{{ etiketten.vortraege._|default('Vorträge') }}</h2>
            {% for vortrag in cv.vortraege %}
              <div class="entry-header">
                <div class="text-body text-strong">
                  <span class="text-strong">{{ vortrag.titel }}</span> | {{ vortrag.beschreibung }}
                </div>
                <span class="text-meta">{{ vortrag.datum }}</span>
              </div>
            {% endfor %}
          </section>
        {% endif %}

        <section class="section">
          <div class="section-line"></div>
          <h2 class="section-title">{{ etiketten.ausbildung._|default('Ausbildung') }}</h2>
          {% for eintrag in cv.ausbildung %}
            <ul class="list">
              <li class="text-body">{{ eintrag.beschreibung }}, {{ eintrag.grad }}, {{ eintrag.uni }}</li>
            </ul>
          {% endfor %}
        </section>
      </section>
    </main>

    {% if cv.fussbereich is defined %}
      <footer class="layout-footer">
        <span>{{ "now"|date("d.m.Y") }} {{ cv.kopfdaten.name.verkurzte|default(cv.kopfdaten.name) }} | {{ cv.fussbereich.text }}</span>
        {% if cv.fussbereich.link is defined %}
          | <a href="{{ cv.fussbereich.link }}" target="_blank" rel="noopener noreferrer">{{ cv.fussbereich.link }}</a>
        {% endif %}
      </footer>
    {% endif %}
  </div>
{% endblock %}
