{% extends 'cv_layout.html.twig' %}

{% block content %}
  <div class="cv-root">
    <main class="cv-main">
      <aside class="cv-side">
        <div>
          <h1 class="cv-name">{{ cv.kopfdaten.name.verkurzte|default(cv.kopfdaten.name) }}</h1>
          <p class="cv-title">{{ cv.kopfdaten.bereich }}</p>
        </div>

        <section class="cv-section">
          <h2 class="cv-section-title">Faehigkeiten</h2>
          <div>
            {% for gruppe in cv.faehigkeiten %}
              <div class="cv-skill-group">
                <p class="cv-skill-title">{{ gruppe.stufe }}</p>
                <div class="cv-skill-scale">
                  {% for i in 1..5 %}
                    <span class="cv-dot{% if i <= gruppe.wert %} cv-dot--on{% endif %}"></span>
                  {% endfor %}
                </div>
                <div class="cv-tags">
                  {% for tag in gruppe.technologien %}
                    <span class="cv-tag">{{ tag }}</span>
                  {% endfor %}
                </div>
              </div>
            {% endfor %}
          </div>
        </section>

        <section class="cv-section">
          <h2 class="cv-section-title">Sprachen</h2>
          <ul class="cv-text">
            {% for sprache in cv.sprachen %}
              <li>{{ sprache.sprache }} - <span class="cv-entry-date">{{ sprache.stufe }}</span></li>
            {% endfor %}
          </ul>
        </section>

        <section class="cv-section">
          <h2 class="cv-section-title">Interessen</h2>
          <p class="cv-text">{{ cv.interessen|join(', ') }}</p>
        </section>
      </aside>

      <section class="cv-body">
        <div class="cv-contact">
          <div>Kontaktformular</div>
          <div><a href="/contact">/contact</a></div>
        </div>

        <section class="cv-section">
          <h2 class="cv-section-title">Motivation</h2>
          <p class="cv-text">{{ cv.motivation }}</p>
        </section>

        <section class="cv-section">
          <h2 class="cv-section-title">Berufserfahrung</h2>
          {% for eintrag in cv.berufserfahrung %}
            <div class="cv-entry">
              {% if eintrag.stelleGruppe is not defined or eintrag.stelleGruppe.letzteStelle %}
                <div class="cv-entry-title">{{ eintrag.unternehmen }}</div>
              {% endif %}

              <div class="{% if eintrag.stelleGruppe is defined %}cv-entry-group{% endif %}">
                <div class="cv-entry-header">
                  <div class="cv-entry-subtitle">
                    {% if eintrag.projekt is defined %}
                      <span class="cv-entry-title">{{ eintrag.projekt }}</span> |
                    {% endif %}
                    {{ eintrag.titel }}
                  </div>
                  <span class="cv-entry-date">{{ eintrag.zeitraum }}</span>
                </div>

                {% if eintrag.ort is defined %}
                  <div class="cv-entry-ort">{{ eintrag.ort }}</div>
                {% endif %}

                <div>
                  {% for punkt in eintrag.punkte %}
                    {% if punkt.tags|length > 0 %}
                      <div class="cv-tags">
                        {% for tag in punkt.tags %}
                          <span class="cv-tag">{{ tag }}</span>
                        {% endfor %}
                      </div>
                    {% endif %}
                    <ul class="cv-points">
                      <li class="cv-text">{{ punkt.text }}</li>
                    </ul>
                  {% endfor %}
                </div>
              </div>
            </div>
          {% endfor %}
        </section>

        {% if cv.opensource is defined %}
          <section class="cv-section">
            <h2 class="cv-section-title">Open Source</h2>
            {% for eintrag in cv.opensource %}
              <div class="cv-entry">
                <div class="cv-entry-title">{{ eintrag.projekt }}</div>
                <div class="cv-entry-header">
                  <div class="cv-entry-subtitle">{{ eintrag.titel }}</div>
                  <span class="cv-entry-date">{{ eintrag.zeitraum }}</span>
                </div>
                <div>
                  {% for punkt in eintrag.punkte %}
                    {% if punkt.tags|length > 0 %}
                      <div class="cv-tags">
                        {% for tag in punkt.tags %}
                          <span class="cv-tag">{{ tag }}</span>
                        {% endfor %}
                      </div>
                    {% endif %}
                    <ul class="cv-points">
                      <li class="cv-text">{{ punkt.text }}</li>
                    </ul>
                  {% endfor %}
                </div>
              </div>
            {% endfor %}
          </section>
        {% endif %}

        {% if cv.vortraege is defined %}
          <section class="cv-section">
            <h2 class="cv-section-title">Vortraege</h2>
            {% for vortrag in cv.vortraege %}
              <div class="cv-entry-header">
                <div class="cv-entry-subtitle">
                  <span class="cv-entry-title">{{ vortrag.titel }}</span> | {{ vortrag.beschreibung }}
                </div>
                <span class="cv-entry-date">{{ vortrag.datum }}</span>
              </div>
            {% endfor %}
          </section>
        {% endif %}

        <section class="cv-section">
          <h2 class="cv-section-title">Ausbildung</h2>
          {% for eintrag in cv.ausbildung %}
            <ul class="cv-points">
              <li class="cv-text">{{ eintrag.beschreibung }}, {{ eintrag.grad }}, {{ eintrag.uni }}</li>
            </ul>
          {% endfor %}
        </section>
      </section>
    </main>

    {% if cv.fussbereich is defined %}
      <footer class="cv-footer">
        <span>{{ "now"|date("d.m.Y") }} {{ cv.kopfdaten.name.verkurzte|default(cv.kopfdaten.name) }} | {{ cv.fussbereich.text }}</span>
        {% if cv.fussbereich.link is defined %}
          | <a href="{{ cv.fussbereich.link }}" target="_blank" rel="noopener noreferrer">{{ cv.fussbereich.link }}</a>
        {% endif %}
      </footer>
    {% endif %}
  </div>
{% endblock %}
